# Техническое задание 2: Управление светодиодами на CMSIS-RTOS2

---

## 1. Назначение  
Программа управляет **реальными светодиодами** через UART на микроконтроллере Nucleo F767ZI с использованием **CMSIS-RTOS2**. Обработка команд с выводом результата (`ok`/`error`) и физическим изменением состояния светодиодов.  

---

## 2. Требования к функционалу  

### Основные функции  
1. **Прием команд через UART**:  
   - Формат команды: `<команда> <номер_светодиода>\r`.  
   - Поддерживаемые команды:  
     - `on` — включить светодиод.  
     - `off` — выключить светодиод.  
   - Номер светодиода: **целое число от 1 до 3** (соответствует подключенным светодиодам).  

2. **Ответ через UART**:  
   - При успешном выполнении: `ok\r\n`.  
   - При ошибке: `error invalid arguments\r\n`.  

### Условия ошибок  
- Некорректная команда (не `on`/`off`).  
- Некорректный номер светодиода:  
  - Не целое число.  
  - Выход за диапазон 1-3.  
- Неверное количество аргументов (не ровно два).  

---

## 3. Примеры работы  

| Ввод          | Вывод                     | Действие                     |  
|---------------|---------------------------|------------------------------|  
| `on 1\r`      | `ok\r\n`                  | Светодиод 1 включается.      |  
| `off 3\r`     | `ok\r\n`                  | Светодиод 3 выключается.     |  
| `onn 2\r`     | `error invalid arguments` | Нет изменений.               |  

---

## 4. Требования к реализации  

1. **Использование CMSIS-RTOS2**:  
   - Реализация минимум двух задач (threads):  
     - Прием данных UART (с использованием прерываний).  
     - Обработка и валидация команд.  
   - Синхронизация между задачами через механизмы CMSIS-RTOS2.  

2. **Аппаратная настройка**:  
   - Настройка GPIO для управления светодиодами: пины LD1, LD2, LD3 для Nucleo F767ZI.  
   - Инициализация UART (USART3) с параметрами:  
     - Скорость: 115200 бод, 8 бит данных, 1 стоп-бит, контроль четности отключен.  

---

## 5. Критерии проверки  

1. Корректная обработка команд:  
   - Светодиоды 1-3 включаются/выключаются согласно командам.  
2. Возврат ошибок для всех недопустимых сценариев.  
3. Соблюдение формата ответов (`ok\r\n`, `error invalid arguments\r\n`).  

---